import{w as D,r as l,j as e}from"./chunk-4WY6JWTD-BgPu_Zjs.js";import{a as i}from"./index-B9ygI19o.js";const F=()=>{const n="/api/capacity",[m,h]=l.useState(100),[x,g]=l.useState(30),[p,b]=l.useState(100),[d,y]=l.useState(""),[c,f]=l.useState(""),[u,j]=l.useState(1),[o,t]=l.useState(""),N=async()=>{var a,r;t("Creating capacity...");try{const s=await i.post(`${n}`,{totalCapacity:m,days:x});t(`✅ ${s.data.message}`)}catch(s){console.error("Error creating capacity:",s),t(`❌ ${((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.error)||"Failed to create capacity"}`)}},v=async()=>{var a,r;t("Updating total capacity...");try{const s={totalCapacity:p};d&&c?(s.fromDate=d,s.toDate=c):d&&!c&&(s.fromDate=d);const w=await i.put(`${n}`,s);t(`✅ ${w.data.message}`)}catch(s){console.error("Error updating capacity:",s),t(`❌ ${((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.error)||"Failed to update capacity"}`)}},C=async()=>{var a,r;t("Filling orders...");try{const s=await i.put(`${n}`,{usedIncrease:u});t(`✅ Order filled for ${s.data.updatedDate}`)}catch(s){console.error("Error filling orders:",s),t(`❌ ${((r=(a=s.response)==null?void 0:a.data)==null?void 0:r.message)||"No available dispatch day"}`)}};return e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Manage Capacity"}),o&&e.jsx("div",{className:`mb-4 p-3 rounded-xl text-white ${o.startsWith("✅")?"bg-green-600":o.startsWith("❌")?"bg-red-600":"bg-blue-600"}`,children:o}),e.jsxs("div",{className:"p-4 bg-white shadow rounded-2xl mb-6",children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-700",children:"Create New Capacity"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex flex-col w-full sm:w-1/3",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Total Capacity"}),e.jsx("input",{type:"number",className:"border p-2 rounded-md",value:m,onChange:a=>h(Number(a.target.value))})]}),e.jsxs("div",{className:"flex flex-col w-full sm:w-1/3",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Days (default 30)"}),e.jsx("input",{type:"number",className:"border p-2 rounded-md",value:x,onChange:a=>g(Number(a.target.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:N,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Create"})})]})]}),e.jsxs("div",{className:"p-4 bg-white shadow rounded-2xl mb-6",children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-700",children:"Update Total Capacity"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"New Total Capacity"}),e.jsx("input",{type:"number",className:"border p-2 rounded-md",value:p,onChange:a=>b(Number(a.target.value))})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"From Date"}),e.jsx("input",{type:"date",className:"border p-2 rounded-md",value:d,onChange:a=>y(a.target.value)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"To Date (optional)"}),e.jsx("input",{type:"date",className:"border p-2 rounded-md",value:c,onChange:a=>f(a.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:v,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 w-full",children:"Update"})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[e.jsx("b",{children:"Tips:"}),e.jsx("br",{}),"– Leave both dates empty → updates all future working days.",e.jsx("br",{}),"– Provide only ",e.jsx("b",{children:"From Date"})," → updates that single date.",e.jsx("br",{}),"– Provide both → updates a range of dates."]})]}),e.jsxs("div",{className:"p-4 bg-white shadow rounded-2xl",children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-700",children:"Fill Orders"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex flex-col w-full sm:w-1/3",children:[e.jsx("label",{className:"text-sm text-gray-600 mb-1",children:"Orders to Fill (default 1)"}),e.jsx("input",{type:"number",className:"border p-2 rounded-md",value:u,onChange:a=>j(Number(a.target.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:C,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",children:"Fill Orders"})})]})]})]})},T=D(F);export{T as default};
