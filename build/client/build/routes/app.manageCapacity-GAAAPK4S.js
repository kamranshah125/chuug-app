import{a as d}from"/build/_shared/chunk-VAO34ZN6.js";import{a as F,b as u}from"/build/_shared/chunk-2Z2BTQU4.js";import{d as c}from"/build/_shared/chunk-ZT4QWOFN.js";var s=c(F(),1);var e=c(u(),1),$=()=>{let i="/api/capacity",[n,g]=(0,s.useState)(100),[m,y]=(0,s.useState)(30),[p,x]=(0,s.useState)(100),[l,v]=(0,s.useState)(""),[r,f]=(0,s.useState)(""),[b,N]=(0,s.useState)(1),[o,t]=(0,s.useState)(""),h=async()=>{t("Creating capacity...");try{let a=await d.post(`${i}`,{totalCapacity:n,days:m});t(`\u2705 ${a.data.message}`)}catch(a){console.error("Error creating capacity:",a),t(`\u274C ${a.response?.data?.error||"Failed to create capacity"}`)}},C=async()=>{t("Updating total capacity...");try{let a={totalCapacity:p};l&&r?(a.fromDate=l,a.toDate=r):l&&!r&&(a.fromDate=l);let D=await d.put(`${i}`,a);t(`\u2705 ${D.data.message}`)}catch(a){console.error("Error updating capacity:",a),t(`\u274C ${a.response?.data?.error||"Failed to update capacity"}`)}},w=async()=>{t("Filling orders...");try{let a=await d.put(`${i}`,{usedIncrease:b});t(`\u2705 Order filled for ${a.data.updatedDate}`)}catch(a){console.error("Error filling orders:",a),t(`\u274C ${a.response?.data?.message||"No available dispatch day"}`)}};return(0,e.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,e.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Manage Capacity"}),o&&(0,e.jsx)("div",{className:`mb-4 p-3 rounded-xl text-white ${o.startsWith("\u2705")?"bg-green-600":o.startsWith("\u274C")?"bg-red-600":"bg-blue-600"}`,children:o}),(0,e.jsxs)("div",{className:"p-4 bg-white shadow rounded-2xl mb-6",children:[(0,e.jsx)("h3",{className:"font-semibold mb-4 text-gray-700",children:"Create New Capacity"}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,e.jsxs)("div",{className:"flex flex-col w-full sm:w-1/3",children:[(0,e.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"Total Capacity"}),(0,e.jsx)("input",{type:"number",className:"border p-2 rounded-md",value:n,onChange:a=>g(Number(a.target.value))})]}),(0,e.jsxs)("div",{className:"flex flex-col w-full sm:w-1/3",children:[(0,e.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"Days (default 30)"}),(0,e.jsx)("input",{type:"number",className:"border p-2 rounded-md",value:m,onChange:a=>y(Number(a.target.value))})]}),(0,e.jsx)("div",{className:"flex items-end",children:(0,e.jsx)("button",{onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Create"})})]})]}),(0,e.jsxs)("div",{className:"p-4 bg-white shadow rounded-2xl mb-6",children:[(0,e.jsx)("h3",{className:"font-semibold mb-4 text-gray-700",children:"Update Total Capacity"}),(0,e.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"New Total Capacity"}),(0,e.jsx)("input",{type:"number",className:"border p-2 rounded-md",value:p,onChange:a=>x(Number(a.target.value))})]}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"From Date"}),(0,e.jsx)("input",{type:"date",className:"border p-2 rounded-md",value:l,onChange:a=>v(a.target.value)})]}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"To Date (optional)"}),(0,e.jsx)("input",{type:"date",className:"border p-2 rounded-md",value:r,onChange:a=>f(a.target.value)})]}),(0,e.jsx)("div",{className:"flex items-end",children:(0,e.jsx)("button",{onClick:C,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 w-full",children:"Update"})})]}),(0,e.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:[(0,e.jsx)("b",{children:"Tips:"}),(0,e.jsx)("br",{}),"\u2013 Leave both dates empty \u2192 updates all future working days.",(0,e.jsx)("br",{}),"\u2013 Provide only ",(0,e.jsx)("b",{children:"From Date"})," \u2192 updates that single date.",(0,e.jsx)("br",{}),"\u2013 Provide both \u2192 updates a range of dates."]})]}),(0,e.jsxs)("div",{className:"p-4 bg-white shadow rounded-2xl",children:[(0,e.jsx)("h3",{className:"font-semibold mb-4 text-gray-700",children:"Fill Orders"}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,e.jsxs)("div",{className:"flex flex-col w-full sm:w-1/3",children:[(0,e.jsx)("label",{className:"text-sm text-gray-600 mb-1",children:"Orders to Fill (default 1)"}),(0,e.jsx)("input",{type:"number",className:"border p-2 rounded-md",value:b,onChange:a=>N(Number(a.target.value))})]}),(0,e.jsx)("div",{className:"flex items-end",children:(0,e.jsx)("button",{onClick:w,className:"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600",children:"Fill Orders"})})]})]})]})},T=$;export{T as default};
